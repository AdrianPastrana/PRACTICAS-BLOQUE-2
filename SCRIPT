DROP TABLE S_INVENTORY;
DROP TABLE S_ITEM;
DROP TABLE S_PRODUCT;
DROP TABLE S_IMAGE;
DROP TABLE S_ORD;
DROP TABLE S_CUSTOMER;
DROP TABLE S_EMP;
DROP TABLE S_DEPT;
DROP TABLE S_WAREHOUSE;
DROP TABLE S_REGION;

create table S_REGION(
ID NUMBER(7) not null,
NAME VARCHAR2(25) not null,
CONSTRAINT S_REGION_PK PRIMARY KEY(ID)
);

CREATE TABLE S_WAREHOUSE(
ID NUMBER(7) NOT NULL,
REGION_ID NUMBER(7) NOT NULL,
CONSTRAINT S_WAREHOUSE_PK PRIMARY KEY(ID),
CONSTRAINT S_WAREHOUSE_REGION_ID_FK FOREIGN KEY (REGION_ID) REFERENCES S_REGION(ID)
);

CREATE TABLE S_DEPT(
ID NUMBER(7) NOT NULL,
NAME VARCHAR(25) NOT NULL,
S_REGION_ID NUMBER(7) NOT NULL,
CONSTRAINT S_DEPT_PK PRIMARY KEY (ID),
CONSTRAINT s_DEPT_FK FOREIGN KEY (S_REGION_ID) REFERENCES S_REGION (ID)
);


CREATE TABLE S_EMP(
ID NUMBER(7) NOT NULL,
LAST_NAME VARCHAR2(25) NOT NULL,
FIRST_NAME VARCHAR(25),
USERID VARCHAR2(8),
START_DATE DATE,
COMMENTS VARCHAR2(255),
TITTLE VARCHAR2(25),
DEPT_ID NUMBER(7) NOT NULL,
SALARY NUMBER(11,2),
COMMISSION_PCT NUMBER(4,2),
MANAGER_ID NUMBER(7) CONSTRAINT S_EMP_MANAGER_ID_FK REFERENCES S_EMP(ID),
CONSTRAINT S_EMP_ID_PK PRIMARY KEY (ID),	
CONSTRAINT S_EMP_DEPT_ID_FK FOREIGN KEY (DEPT_ID) REFERENCES S_DEPT(ID)
);

CREATE TABLE S_CUSTOMER(
ID           NUMBER(7) NOT NULL,
NAME     VARCHAR2(50) NOT NULL,
PHONE        VARCHAR2(25),
ADDRESS      VARCHAR2(400),
CITY         VARCHAR2(30),
STATE        VARCHAR2(20),
COUNTRY      VARCHAR2(30),
ZIP_CODE     VARCHAR2(75),
CREDIT_RATING VARCHAR2(9),
SALES_REP_ID NUMBER(7) NOT NULL,
REGION_ID    NUMBER(7),
COMMENTS     VARCHAR2(255),
CONSTRAINT S_CUSTOMER_ID_PK PRIMARY KEY(ID),
CONSTRAINT S_CUSTOMER_EMP_ID_FK FOREIGN KEY (SALES_REP_ID) REFERENCES S_EMP(ID)
);

CREATE TABLE S_ORD(
ID NUMBER(7) NOT NULL,
CUSTOMER_ID NUMBER(7) NOT NULL,
DATE_ORDERED DATE,
DATE_SHIPPED DATE,
SALES_REP_ID NUMBER(7) NOT NULL,
TOTAL NUMBER(11,2),
PAYMENT_TYPE VARCHAR2(6),
ORDER_FILLED VARCHAR2(1),
CONSTRAINT S_ORD_PK PRIMARY KEY(ID),
CONSTRAINT S_ORD_CUSTOMER_ID_FK FOREIGN KEY (CUSTOMER_ID) REFERENCES S_CUSTOMER(ID),
CONSTRAINT S_ORD_EMP_ID_FK FOREIGN KEY (SALES_REP_ID) REFERENCES S_EMP(ID)
);

CREATE TABLE S_IMAGE(
ID NUMBER(7) NOT NULL,
FILENAME VARCHAR2(20) NOT NULL,
CONSTRAINT S_IMAGE_PK PRIMARY KEY(ID)
);

CREATE TABLE S_PRODUCT(
ID NUMBER(6) NOT NULL,
NAME VARCHAR2(50) NOT NULL,
SHORT_DESC VARCHAR2(255),
LONGTEXT_ID NUMBER(7),
IMAGE_ID NUMBER(7) NOT NULL,
SUGGESTED_WHLSL_PRICE NUMBER(11),
WHLSL_UNITS VARCHAR2(25),
CONSTRAINT S_PRODUCT_PK PRIMARY KEY(ID),
CONSTRAINT S_PRODUCT_IMAGE_ID_FK FOREIGN KEY (IMAGE_ID) REFERENCES S_IMAGE(ID)
);

CREATE TABLE S_ITEM(
ORD_ID NUMBER(7) NOT NULL,
ITEM_ID NUMBER(7) NOT NULL,
PRODUCT_ID NUMBER(7) NOT NULL,
PRICE NUMBER(11,2),
QUANTITY NUMBER(9),
QUANTITY_SHIPPED NUMBER(9),
CONSTRAINT S_ITEM_PK PRIMARY KEY(ITEM_ID),
CONSTRAINT S_ITEM_ORD_ID_FK FOREIGN KEY (ORD_ID) REFERENCES S_ORD(ID),
CONSTRAINT S_ITEM_PRODUCT_ID_FK FOREIGN KEY (PRODUCT_ID) REFERENCES S_PRODUCT(ID)
);

CREATE TABLE S_INVENTORY(
PRODUCT_ID NUMBER(7) NOT NULL,
WAREHOUSE_ID NUMBER(7) NOT NULL,
AMOUNT_IN_STOCK NUMBER(10),
REORDER_POINT NUMBER(10),
MAX_IN_STOCK NUMBER(10),
RESTOCK_DATE DATE,
OUT_OF_STOCK_EXPLANATION VARCHAR2(25),
CONSTRAINT S_INVENTORY_PRODUCT_ID_FK FOREIGN KEY (PRODUCT_ID) REFERENCES S_PRODUCT(ID),
CONSTRAINT S_INVENTORY_WAREHOUSE_ID_FK FOREIGN KEY (WAREHOUSE_ID) REFERENCES S_WAREHOUSE(ID)
);

----Guardar y actualizar-----
COMMIT;
